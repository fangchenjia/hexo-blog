---
title: 模板引擎
toc: true
comments: true
tags:
  - JavaScript
categories:
  - JavaScript
description:
  - 使用模板引擎将数据渲染到页面
keywords:
  - 模板引擎
  - artTemplate
abbrlink: 1eee99d3
date: 2020-12-16 21:30:16
updated: 2020-12-16 21:30:16
---

# 模板引擎

<!-- more -->

> 是为了使用户界面与业务数据（内容）分离而产生的，它可以生成特定格式的文档，用于网站的模板引擎就会生成一个标准的 HTML 文档。

## 常见的模板引擎

BaiduTemplate：http://tangram.baidu.com/BaiduTemplate/
velocity.js：https://github.com/shepherdwind/velocity.js/
ArtTemplate：https://github.com/aui/artTemplate

artTemplate 是使用最广泛，效率最高的模板引擎。

## artTemplate 的使用

[github 地址](https://github.com/aui/art-template)

[中文 api 地址](https://aui.github.io/art-template/docs/)

### artTemplate 入门

**1.引入模板引擎的 js 文件**

```javascript
<script src="template-web.js"></script>
```

**2.准备模板**

```html
<!--
  指定了type为text/template后，这一段script标签并不会解析，也不会显示。
-->
<script type="text/template" id="tmp">
  <p>姓名：{{ username }}</p>
  <p>年龄：{{ age }}</p>
  <p>技能：{{ skill }}</p>
  <p>描述：{{desc }}</p>
</script>
```

**3.准备数据**

```javascript
//3. 准备数据,数据是后台获取的，可以随时变化
var json = {
  userName: "方先生",
  age: 18,
  skill: "查水表",
  desc: "年轻气壮",
};
```

**4.将模板与数据进行绑定**

```javascript
//第一个参数：模板的id
//第二个参数：数据
//返回值：根据模板生成的字符串。
var html = template("myTmp", json);
console.log(html);
```

**5.将数据显示到页面**

```javascript
var div = document.querySelector("div");
div.innerHTML = html;
```

**注意：传递给模板引擎的数据必须是对象**

### artTemplate 语法

**if 语法**

```html
{{if gender=='男'}}
<div class="man">
  {{else}}
  <div class="woman">{{/if}}</div>
</div>
```

**each 语法**

```html
<!--
  1. {{each data}}  可以通过$value 和 $index获取值和下标
  2. {{each data v i}}  自己指定值为v，下标为i
-->
{{each data v i}}
<li>
  <a href="{{v.url}}">
    <img src="{{v.src}}" alt="" />
    <p>{{v.content}}</p>
  </a>
</li>
{{/each}}
```

```javascript
//如果返回的数据是个数组，必须使用对象进行包裹，因为在{{}}中只写书写对象的属性。
var html = template("navTmp", { data: info });
```
