---
title: 三大家族
categories: JavaScript
keywords: offset scroll client
tags:
  - JavaScript
abbrlink: 4c5b1739
date: 2020-10-29 17:27:14
---
# 三大家族

## offset家族

> offset系列用于用于获取元素自身的大小和位置，在网页特效中有广泛应用
>
> offset系列主要有：offsetHeight、offsetWidth、offsetParent、offsetLeft、offsetTop
<!--more-->
offsetHeight与offsetWidth

1. 获取的是元素真实的高度和宽度
2. 获取到的是数值类型，方便计算
3. offsetHeight与offsetWidth是只读属性，不能设置。

style.height与style.width

1. 只能获取行内样式
2. 获取到的是字符串类型，需要转换



offsetHeight与offsetWidth的构成

​	offsetHeight = height + paddnig + border

​	offsetWidth = width + padding + border

 ![offset](https://myblog-1303177382.cos.ap-chongqing.myqcloud.com/blogpostimg/%E4%B8%89%E5%A4%A7%E5%AE%B6%E6%97%8F/offset.png)

## scroll家族

> scroll家族用来获取盒子内容的大小和位置
>
> scroll家族有：scrollWidth、scrollHeight、scrollTop、scrollLeft

1. scrollWidth与scrollHeight是盒子内容的真实的宽度和高度。与和盒子大小无关，仅仅与盒子的内容有关系。
2. scrollTop用于获取内容垂直滚动的像素数。如果没有滚动条，那么scrollTop值是0

 ![scroll](https://myblog-1303177382.cos.ap-chongqing.myqcloud.com/blogpostimg/%E4%B8%89%E5%A4%A7%E5%AE%B6%E6%97%8F/scroll.png)

onscroll事件，对于有滚动条的盒子，可以使用onscroll注册滚动事件，每滚动一像素，就会触发该事件。

```
var box = doucment.getElementById(“box”);
box.onscroll = function(){
	//事件处理程序
}
```



获取页面被卷去的高度和宽度

> 通常来说，scroll家族用的最多的地方就是用来获取页面被卷去的宽度和高度，非常的常用

+ 对于老式的浏览器，需要获取html或者body的scrollTop
+ 对于现在浏览器，使用window.pageYOffset进行获取

页面被卷去的高度和宽度的兼容性封装

```
window.onscroll = function() {
  var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
 var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0
}
```


## client家族

> client家族用于获取盒子可视区的大小
>
> client家族有clientWidth、clientHeight、clientTop、clientLeft

**如果内容没有超出盒子范围：clientWidth与scrollWidth相同**

 ![client1](https://myblog-1303177382.cos.ap-chongqing.myqcloud.com/blogpostimg/%E4%B8%89%E5%A4%A7%E5%AE%B6%E6%97%8F/client1.png)

> 三大家族对比

 ![client](https://myblog-1303177382.cos.ap-chongqing.myqcloud.com/blogpostimg/%E4%B8%89%E5%A4%A7%E5%AE%B6%E6%97%8F/client.png)

> clientTop与clientLeft

**clientTop**与**clientLeft** 完全没有用，他们就是borderTop与borderLeft

但是：如果有滚动条，还会包含滚动条的宽度，但是见过滚动条在上边或者左边的？

> onresize事件：onresize事件会在窗口被调整大小的时候发生。

```
window.onresize = function(){
	//事件处理程序
}
```

> client系列一般用来获取页面的可视区宽高

```
// 可以把页面的可视区的大小封装成函数，函数内部返回页面大小
function client() {
    return {
        width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth || 0,
        height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0
    };
}
```

