---
title: 标签的自定义属性
categories: JavaScript
keywords: attribute 自定义标签
tags:
  - JavaScript
abbrlink: 2c4182dd
date: 2020-10-22 20:57:16
---
## 标签的自定义属性

在html页面中，定义一个自定义属性
<!--more-->
```html
<div id="box" aa="bb"></div>
```

在对应的DOM对象中是不存在的，在DOM对象中只会存在固定的那些属性。

```javascript
var box = document.getElementById("box");
console.log(box.aa);//undefined
```

### attribute方法

> attribute系列方法用于设置标签的属性，不管是自定义的还是固有的属性。

```
//获取标签的属性
box.getAttribute(name);
//设置标签的属性
box.setAttribute(name, value);
//移除标签的属性
box.removeAttribute(name);
```

## 标签的内容属性

> innerText和innerHTML属性都是用来获取和设置标签的内容的。但是二者还是有区别的。

> innerHTML可以用于获取和设置标签的所有内容，包括标签和文本内容

```
// innerHTML:内部的HTML
//  获取标签内容的时候，不管标签还是文本，都能获取到
//  innerHTML设置内容的时候，覆盖原来内容，标签也能生效，浏览器能解析这个标签。
```

> innerText可以用于获取和设置标签的文本内容，会丢弃掉标签

```
//innerText:内部文本
//  获取标签内容的时候，只会获取文本，标签扔掉了
//  设置标签内容的时候，覆盖原来内容，对标签进行转义（目的：把标签直接当文本来用）
```

二者的区别：

- innerHTML能够识别标签，标签能够生效
- innerText只识别文本，标签会被转义

> 浏览器兼容性：指网页在各种浏览器上的显示效果不一致。或者是一些属性和方法在低版本的浏览器中不支持。

```
//1. innerText是IE提出来的属性，因此低版本的火狐浏览器不支持这个属性。
//2. 火狐有一个textContent属性，效果跟innerText一样，但是IE678不支持这个属性
```

书写innerText的兼容性代码

```javascript
function getInnerText(element){
  if(typeof element.innerText === "string"){
    return element.innerText;
  } else {
    return element.textContent;
  }
}
```