---
title: 正则表达式
toc: true
comments: true
tags:
  - JavaScript
categories:
  - JavaScript
description:
  - 正则表达式：用于匹配规律规则的表达式，在编程语言中有广泛的应用，经常用于表单校验，高级搜索等。
keywords: 正则表达式
abbrlink: 2f57a694
date: 2020-11-09 19:58:01
updated: 2020-11-09 19:58:01
---

# 正则表达式

> 正则表达式：用于匹配规律规则的表达式，正则表达式最初是科学家对人类神经系统的工作原理的早期研究，现在在编程语言中有广泛的应用，经常用于表单校验，高级搜索等。

<!-- more -->

## 创建正则表达式

构造函数的方式

```javascript
var regExp = new RegExp(/\d/);
```

正则字面量

```javascript
var regExp = /\d/;
```

正则的使用

```javascript
/\d/.test("aaa1");
```

## 元字符

> 正则表达式由一些普通字符和元字符组成，普通字符包括大小写字母、数字等，而元字符则具有特殊的含义。

### 常见元字符

![元字符](https://myblog-1303177382.cos.ap-chongqing.myqcloud.com/blogpostimg/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/yuan.png)

`|`表示或，优先级最低

`()`优先级最高，表示分组

### 字符类的元字符

`[]`在正则表达式中表示一个字符的位置，[]里面写这个位置可以出现的字符。

```javascript
console.log(/[abc]/); //匹配a,b,c
```

`[^]`在中扩号中的^表示非的意思。

```javascript
//^表示该位置不可以出现的字符
console.log(/[^abc]/); //匹配除了a，b，c以外的其他字符
```

`[a-z]` `[1-9]`表示范围

```javascript
console.log(/[a-z]/.test("d")); //小写字母
console.log(/[A-Z]/.test("d")); //大写字母
console.log(/[0-9]/.test("8")); //数字
console.log(/[a-zA-Z0-9]/); //所有的小写字母和大写字母以及数字
```

### 边界类元字符

> 前面学习的正则只要有满足的条件的就会返回 true，并不能做到精确的匹配。

^表示开头    **_[]里面的^表示取反_**

$表示结尾

```javascript
console.log(/^chuan/.test("dachuan")); //必须以chuan开头
console.log(/chuan$/.test("chuang")); //必须以chuan结尾
console.log(/^chuan$/.test("chuan")); //精确匹配chuan

//精确匹配chuan,表示必须是这个
console.log(/^chuan$/.test("chuanchuan")); //fasle
```

### 量词类元字符

> 量词用来控制出现的次数，一般来说量词和边界会一起使用

1. `*`表示能够出现 0 次或者更多次，x>=0;
2. `+`表示能够出现 1 次或者多次，x>=1
3. `?`表示能够出现 0 次或者 1 次，x=0 或者 x=1
4. `{n}`表示能够出现 n 次
5. `{n,}`表示能够出现 n 次或者 n 次以上
6. `{n,m}`表示能够出现 n-m 次

## 正则的使用

### 正则测试

1. 验证座机

   - 比如 010-12345678 0797-1234567
   - 开头是 3-4 位，首位必须是 0
   - -后面是 7-8 位

```javascript
var phoneReg = /^0\d{2,3}-\d{7,8}$/;
```

2. 验证姓名

   - 只能是汉字
   - 长度 2-6 位之间
   - 汉字范围[\u4e00-\u9fa5]

```javascript
var nameReg = /^[\u4e00-\u9fa5]{2,6}$/;
```

3. 验证 QQ

   - 只能是数字
   - 开头不能是 0
   - 长度为 5-11 位

```javascript
var qqReg = /^[1-9]\d{4,10}$/;
```

4. 验证手机

   - 11 位数字组成
   - 号段 13[0-9] 147 15[0-9] 17[0178] 18[0-9]

```javascript
var mobileReg = /^(13[0-9]|147|15[0-9]|17[0178]|18[0-9])\d{8}$/;
```

5. 验证邮箱

   - 前面是字母或者数字
   - 必须有@
   - @后面是字母或者数字
   - 必须有.
   - .后面是字母或者数字

```javascript
var emailReg = /^\w+@\w+(\.\w+)+$/;
```

### 正则替换

```javascript
var str = "   123AD  asadf   asadfasf  adf  ";
// 字符串有replace 方法
// replace 方法第一个参数可以写正则表达式

1  替换掉字符串中的所有空白
var str2 = str.replace(/\s/g, "");   // g  global 全局匹配
2. 将所有的ad替换成xx
var str3 = str.replace(/ad/g, "xx");
3. 将所有的ad/AD替换成xx
var str4 = str.replace(/ad/gi, "yy");  // i ：  ignore  忽略大小写

var str = "abc,efg,123,abc,123,a"
4. 所有的逗号替换成句号
var str5 = str.replace(/,/g, "。");

var jsonStr = '[{"name":"张三",score:80},{"name":"张三",score:90},{"name":"张三",score:81}]';
5. 把所有成绩都修改成100分
var str6 = jsonStr.replace(/\d{2}/g, 100);
```
